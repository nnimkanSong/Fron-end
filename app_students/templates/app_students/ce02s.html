{% load static %}
<title>CE PCC LIST</title>
<link rel="icon" type="image/png" href="https://drive.google.com/thumbnail?id=1PZauGQn3bq2C5fOUL7A8Y017pYKZ5hmr">
{% block content %}
<script>
  function toggleMenu() {
    const menu = document.querySelector(".menu");
    const menu_mobile = document.querySelector(".menu-mobile");
    menu.classList.toggle("active");
    menu_mobile.classList.toggle("active");
  }

  function closeMenu() {
    const menu = document.querySelector(".menu");
    const menu_mobile = document.querySelector(".menu-mobile");
    menu.classList.remove("active");
    menu_mobile.classList.remove("active");
  }
  document.addEventListener("click", function (event) {
    const menu = document.querySelector(".menu");
    const hamburger = document.querySelector(".hamburger");

    if (!menu.contains(event.target) && !hamburger.contains(event.target)) {
      menu.classList.remove("active");
    }
  });
</script>
<style>
  * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
  }
  body {
    font-family: "Sarabun", sans-serif;
    background-color: #ffffff;
  }
  .navbar {
    position: fixed;
    top: 0;
    width: 100%;
    display: flex;
    justify-content: space-between;
    gap: 10px;
    align-items: center;
    color: white;
    font-size: 64px;
    font-weight: 700;
    background-color: #283593;
    padding: 10px 0;
    height: 100px;
    z-index: 999;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
  }
  .navbar a {
    color: white;
    text-decoration: none;
  }
  .logo {
    padding: 0 0 0 10px;
  }
  .logo a img {
    object-fit: cover;
    height: 80px;
  }
  .menu {
    display: none;
    width: 336px;
    height: 406px;
    flex-direction: column;
    border: 5px solid #ffffff;
    border-radius: 15px;
    position: absolute;
    top: 80px;
    right: 60px;
  }
  .menu.active {
    display: flex;
  }
  .menu a {
    display: flex;
    justify-content: center;
    align-items: center;
    font-weight: 700;
    font-size: 40px;
    height: 25%;
    background-color: #261fb3;
    color: white;
    padding: 8px 15px;
    border-bottom: 1px solid #ffffff;
  }
  .menu a:hover {
    background-color: #1a148f;
  }
  body > nav > div.menu.active > a:nth-child(1) {
    border-radius: 15px 15px 0 0;
  }
  body > nav > div.menu.active > a:nth-child(4) {
    border-radius: 0 0 15px 15px;
  }
  .menu-mobile {
    display: none;
    flex-direction: column;
    background-color: #283593;
    z-index: 1000;
  }
  .menu-mobile img {
    align-self: flex-end;
    margin: 20px;
    width: 25px;
    filter: brightness(0) invert(1);
    cursor: pointer;
  }
  .menu-mobile a {
    font-size: 32px;
    padding: 5px 20px;
    margin: 0 0 20px 0;
    color: white;
    text-decoration: none;
  }
  .menu-mobile a:hover {
    background-color: #1a148f;
  }
  .hamburger {
    width: 100px;
    padding: 10px;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    cursor: pointer;
  }
  .hamburger div {
    border-radius: 100vw;
    width: 50px;
    height: 4px;
    background-color: white;
    margin: 6px 0;
  }

  @media (max-width: 768px) {
    .navbar {
      font-size: 48px;
      height: 80px;
    }
    .logo {
      scale: 0.8;
    }
    .hamburger {
      scale: 0.8;
    }
    .menu {
      display: none;
      width: 336px;
      height: 406px;
      flex-direction: column;
      border: 5px solid #ffffff;
      border-radius: 15px;
      position: absolute;
      top: 60px;
      right: 60px;
    }
    .menu a {
      font-size: 32px;
    }
  }

  @media (max-width: 480px) {
    .navbar {
      font-size: 32px;
      height: 60px;
    }
    .logo {
      scale: 0.6;
    }
    .hamburger {
      scale: 0.6;
    }
    .menu.active {
      display: none;
    }
    .menu a {
      font-size: 32px;
    }
    .menu-mobile {
      display: none;
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      font-size: 32px;
      font-weight: 700;
    }
    .menu-mobile.active {
      display: flex;
    }
  }
</style>
<div style="height: 30px; width: 100%"></div>
<nav class="navbar">
  <div class="logo">
    <a href="{% url 'home' %}">
      <img src="{% static 'img/picture/Logo_ce.png' %}" alt="CE Logo" />
    </a>
  </div>
  <div class="">
    <a href="{% url 'home' %}" style="color: white; text-decoration: none;">CE03</a>
  </div>
  <div class="hamburger" onclick="toggleMenu()">
    <div></div>
    <div></div>
    <div></div>
  </div>
  <div class="menu">
    <a href="{% url 'ce04s' %}">CE01</a>
    <a href="{% url 'ce03s' %}">CE02</a>
    <a href="{% url 'ce02s' %}">CE03</a>
    <a href="{% url 'ce01s' %}">CE04</a>
  </div>
</nav>
<div class="menu-mobile">
  <img src="{% static 'img/picture/close.png' %}" alt="" onclick="closeMenu()" />
  <a href="{% url 'ce04s' %}">CE01</a>
  <a href="{% url 'ce03s' %}">CE02</a>
  <a href="{% url 'ce02s' %}">CE03</a>
  <a href="{% url 'ce01s' %}">CE04</a>
</div>
<h1
  style="
    text-align: center;
    color: #ffff;
    margin-bottom: 20px;
    font-family: 'Sarabun', sans-serif;
  "
>
  รายชื่อนักศึกษาชั้นปีที่ 2 (CE 03)
</h1>

<div
  style="
    width: 100%;
    margin: auto;
    padding: 30px;
    font-family: 'Sarabun', sans-serif;
  "
>
  <div style="display: flex; padding: 0px 20px; gap: 10px">
    <div
      style="
        display: inline-block;
        background: #1e3a8a;
        color: white;
        padding: 15px 20px;
        border-radius: 10px;
        width: 300px;
        font-weight: bold;
        text-align: center;
      "
    >
      รหัสนักศึกษา
    </div>
    <div
      style="
        flex: 1;
        text-align: center;
        background: #1e3a8a;
        color: white;
        padding: 15px 20px;
        border-radius: 10px;
        font-weight: bold;
      "
    >
      ชื่อ - นามสกุล
    </div>
  </div>
  <!-- รายการนักศึกษา -->
  <div style="border-radius: 0 0 10px 10px">
    {% for item in ce02s %}
    {% if item.years == 2 %}
    <div style="display: flex; margin: 15px 20px; gap: 10px">
      <div
        style="
          display: inline-block;
          background: #414ea6;
          color: white;
          padding: 15px 20px;
          border-radius: 10px;
          width: 300px;
          text-align: center;
        "
      >
        <a
          href="#"
          onclick="event.preventDefault(); showPopup('{{ item.student_id }}', '{{ item.name }}', '{{ item.gender }}', '{{ item.email }}', '{{ item.nickname }}', '{{ item.phone }}', '{{ item.years }}')"
          style="color: white; text-decoration: none"
        >
          {{ item.student_id }}
        </a>
      </div>
      <div
        style="
          flex: 1;
          background: #414ea6;
          color: white;
          padding: 15px 20px;
          border-radius: 10px;
        "
      >
        <a
          href="#"
          onclick="event.preventDefault(); showPopup('{{ item.student_id }}', '{{ item.name }}', '{{ item.gender }}', '{{ item.email }}', '{{ item.nickname }}', '{{ item.phone }}', '{{ item.years }}')"
          style="color: white; text-decoration: none"
        >
          {{ item.name }}
        </a>
      </div>
    </div>
    {% endif %}
    {% empty %}
    <div style="padding: 20px; text-align: center; color: red;">
      ไม่พบนักศึกษาชั้นปีที่ 2
    </div>
    {% endfor %}
  </div>
</div>

<!-- เพิ่ม SweetAlert2 CDN -->
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

<script>
  function showPopup(student_id, name, gender, email, nickname, phone, year) {
    Swal.fire({
      html: `
                <div style="display: flex;flex-direction:column; gap: 20px; background-color: #ffff;">
                    <div style="display: flex;flex-direction: row; gap: 20px;justify-content: center;align-items: center">
                        <p style="width:30%;height:100%;background-color: #283593;color:#ffff;padding:10;border-radius: 10px; ">รหัสนักศึกษา</p>
                        <P style="width:70%; height:100%;background-color: #283593;color:#ffff;padding:10;border-radius: 10px; ">ชื่อ-นามสกุล</P>
                    </div>
                    <div style="display: flex;flex-direction: row; gap: 20px;justify-content: center;align-items: center">
                        <p style="width:30%;height:100%;background-color: #414EA6;color:#ffff;padding:10;border-radius: 10px; ">${student_id}</p>
                        <p style="width:70%; height:100%;background-color: #414EA6;color:#ffff;padding:10;border-radius: 10px; ">${name}</p>
                    </div>
                </div>
                <div style="margin-top: 20"></div>
                <div >
                    <div style="text-align: center;  background-color: #414EA6;padding:20px;border-radius:10px">
                        <img src="https://static.vecteezy.com/system/resources/previews/024/983/914/non_2x/simple-user-default-icon-free-png.png" alt="Student Image" style="width: 200px; height: 200px; border-radius: 50%; object-fit: cover; ;background-color: #cccc;">
                        <div style="text-align: left; font-family: 'Sarabun', sans-serif; font-size: 16px; background-color: #ffff;padding:20px;border-radius:10px;margin-top: 20px;
                        display:flex; flex-direction: row;gap:80px">
                            <div>
                                <p><strong style="color: #000;font-size:20px">Student ID :</strong> ${student_id}</p>
                                <p><strong style="color: #000;font-size:20px">เพศ:</strong> ${gender}</p>
                                <p><strong style="color: #000;font-size:20px">ชั้นปี:</strong> ${year}</p>
                                <p><strong style="color: #000;font-size:20px">อีเมล:</strong> ${email}</p>
                            </div>
                            <div>
                                <p><strong style="color: #000;font-size:20px">Name :</strong> ${name}</p>
                                <p><strong style="color: #000;font-size:20px">ชื่อเล่น:</strong> ${nickname}</p>
                                <p><strong style="color: #000;font-size:20px">เบอร์โทร:</strong> ${phone}</p>
                                <img src="https://drive.google.com/thumbnail?id=1PZauGQn3bq2C5fOUL7A8Y017pYKZ5hmr" alt="Logo" style="position: absolute; bottom: 125px; right: 50px; width: 50px; height: 50px; object-fit: contain;">
                            </div>
                        </div>
                    </div>
                </div>
            `,
      confirmButtonText: "ปิด",
      confirmButtonColor: "#BD181A",
      customClass: {
        popup: "sweetalert-custom",
        title: "sweetalert-title",
        htmlContainer: "sweetalert-content",
        confirmButton: "sweetalert-confirm-button" // Add custom class for confirm button
      },
    });
  }
</script>

<style>
  /* Import Sarabun font from Google Fonts */
  @import url("https://fonts.googleapis.com/css2?family=Sarabun:wght@400;600;700&display=swap");

  /* Apply Sarabun font globally */
  body,
  h1,
  div,
  p,
  a,
  span {
    font-family: "Sarabun", sans-serif;
  }

  @keyframes slideIn {
    from {
      transform: translateY(-50px);
      opacity: 0;
    }
    to {
      transform: translateY(0);
      opacity: 1;
    }
  }
  
  /* Hover effect for student name block */
  div[style*="flex: 1; background: #414EA6;"] {
    transition: background 0.3s;
  }

  div[style*="flex: 1; background: #414EA6;"]:hover {
    background: #2a4db3;
  }

  /* Hover effect for student ID block */
  div[style*="display: inline-block; background: #414EA6;"] {
    transition: background 0.3s;
  }

  div[style*="display: inline-block; background: #414EA6;"]:hover {
    background: #2a4db3;
  }

  /* ปรับแต่ง SweetAlert2 */
  .sweetalert-custom {
    width: 100%;
    background-color: #ffff;
    width: 900px !important;
    height: fit-content;
    border-radius: 20px !important;
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3) !important;
  }

  .sweetalert-title {
    color: #1e3a8a !important;
    font-size: 28px !important;
    font-weight: 600 !important;
  }

  .sweetalert-content {
    font-family: "Sarabun", sans-serif !important;
  }

  /* Style for SweetAlert2 confirm button */
  .sweetalert-confirm-button {
    font-family: "Sarabun", sans-serif !important;
    font-size: 16px !important;
    font-weight: 600 !important;
  }
</style>

{% endblock content %}